{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <link rel="shortcut icon" href='{% static "img/herramientas.png" %}' type="image/x-icon">
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Ingrese Producto</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src='main.js'></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">


    <script>
        // Función para habilitar o deshabilitar el botón según los campos llenos
        function validarFormulario() {
            var nombre = document.getElementById('nombre_producto').value.trim();
            var tipo = document.getElementById('tipo_producto').value.trim();
            var cantidad = document.getElementById('cantidad').value.trim();
            var precio = document.getElementById('precio').value.trim();

            var botonNuevoProducto = document.getElementById('btn-nuevo-producto');

            if (nombre !== '' && tipo !== '' && cantidad !== '' && precio !== '') {
                botonNuevoProducto.disabled = false;
            } else {
                botonNuevoProducto.disabled = true;
            }
        }
    </script>
</head>
<body>
    <div class="container-fluid bg-success">
        <div class="row align-items-center">
            <div class="col">
                <h1 style="padding: 15px; color: white;">CRUD</h1>
            </div>
        </div>
    </div>
    <br>
    <center><h3>Ingrese Nuevo Producto</h3></center>
    <br>
    <div class="container">
        <form method="post" class="form-control" action="{% url 'nuevo_prod' %}" onkeyup="validarFormulario()" onchange="validarFormulario()" style="max-width: 600px; margin: 0 auto;">
            {% csrf_token %}
            <div class="mb-3">
                <label for="nombre_producto" class="form-label">Nombre Producto</label>
                <input class="form-control" type="text" id="nombre_producto" name="nombre_producto" placeholder="Ingrese Nombre Producto">
            </div>
            <div class="mb-3">
                <label for="tipo_producto" class="form-label">Seleccione Tipo</label>
                <select class="form-select" aria-label="Default select example" id="tipo_producto" name="tipo_producto">
                    <option selected>Seleccione Tipo</option>
                    <option value="Herramientas Manuales">Herramientas Manuales</option>
                    <option value="Materiales Basicos">Materiales Basicos</option>
                    <option value="Equipo de Seguridad">Equipo de Seguridad</option>
                    <option value="Tornillos y Anclajes">Tornillos y Anclajes</option>
                    <option value="Fijaciones y Adhesivos">Fijaciones y Adhesivos</option>
                    <option value="Equipos de Medicion">Equipos de Medicion</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="cantidad" class="form-label">Cantidad</label>
                <input class="form-control" type="number" id="cantidad" name="cantidad" placeholder="Ingrese Cantidad">
            </div>
            <div class="mb-3">
                <label for="precio" class="form-label">Precio</label>
                <input class="form-control" type="number" id="precio" name="precio" placeholder="Ingrese Precio">
            </div>
            <div class="mb-3">
                <a href="{% url 'crud' %}" class="btn btn-outline-danger">Volver</a>
                <button id="btn-nuevo-producto" type="submit" class="btn btn-outline-success" style="float: right;" disabled>Ingresar Nuevo Producto</button>
            </div>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            validarFormulario();
        });
    </script>
</body>
</html>